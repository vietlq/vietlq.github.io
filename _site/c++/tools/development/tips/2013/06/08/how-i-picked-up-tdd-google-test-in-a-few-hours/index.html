
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>How I picked up TDD & Google Test in a few hours</title>
    
    <meta name="author" content="Viet Le">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap styles -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Sticky Footer -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bs-sticky-footer.css" rel="stylesheet">
    
    <!-- Custom styles -->
    <link href="/assets/themes/bootstrap-3/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div id="wrap">
      <nav class="navbar navbar-default" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#jb-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">SimpleIT</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="jb-navbar-collapse">
          <ul class="nav navbar-nav">
            
            
            


  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/index.html">Home</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  



          </ul>
          <form class="navbar-form navbar-right" role="search">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Search">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
          </form>
        </div><!-- /.navbar-collapse -->
      </nav>

      <div class="container">
        
<div class="page-header">
  <h1>How I picked up TDD & Google Test in a few hours </h1>
</div>

<div class="row post-full">
  <div class="col-xs-12">
    <div class="date">
      <span>08 June 2013</span>
    </div>
    <div class="content">
      <p><a href="http://blog.simpleit.us/wp-content/uploads/2013/06/tdd.gif"><img class="size-medium wp-image-205" alt="TDD Diagram" src="http://blog.simpleit.us/wp-content/uploads/2013/06/tdd-287x300.gif" width="287" height="300" /></a> TDD Diagram</p>
<p>To confess, this is the first time I write unit testing for Java &amp; C++ and it turned out this was rather simple. This weekend Daniel is hosting hackathon at his place and invited Kong &amp; me to come over. The first thing we did was TDD. Daniel was fluent in TDD &amp; pair-programming as his company used Ruby and actively worshiped agile development.</p>
<p>I was given a task: To implement a set data structure in Java as simple as possible to pass the test cases that he would write to challenge the implementation. The first test case was to assert emptiness of a new set via the method `bool isEmpty`. Returning `true` was easy. Then Daniel wrote another task to add a new element and requested the set must return `false`. I added a count &amp; array as private data members. Daniel said I should implement as simple as possible. So I used private one member _isEmpty and set it to `true` by default and `false` when invoking `add(int value)`.</p>
<p>And we went on to add test cases to cover methods `int count()`, `void remove(int value)`, `int getIndexOf(int value)`... I got 2 bugs and JUnit was able to point out which test cases failed and I was able to locate the bugs with ease.</p>
<p>I got excited and then moved to C++ and installed <a title="Google Test framework" href="https://code.google.com/p/googletest/wiki/V1_6_Primer">Google Test framework</a>. It was too simple and I regret not using it earlier. Read my TDD C++ code <a title="https://github.com/vietlq/cpp/tree/master/tdd_set" href="https://github.com/vietlq/cpp/tree/master/tdd_set">https://github.com/vietlq/cpp/tree/master/tdd_set</a>, you will find it super simple. Here's the screenshot of the test program:</p>
<p><a href="http://blog.simpleit.us/wp-content/uploads/2013/06/Screen-Shot-2013-06-08-at-8.10.16-PM.png"><img class="aligncenter size-medium wp-image-210" alt="Passed All Test Cases (Using Google Test)" src="http://blog.simpleit.us/wp-content/uploads/2013/06/Screen-Shot-2013-06-08-at-8.10.16-PM-300x238.png" width="300" height="238" /></a></p>
<p>The real value is seen when refactoring was involved in the process. TDD approach &amp; the written test cases greatly aided me in verifying that code refactoring worked like the old code. When it comes to real life projects with hundeds of modules and millions of lines of code, refactoring without test coverage is like walking into a minefield. If you were diligent enough to write test cases to cover all functions and methods, then you can refactor at will and then run against the accumulated test cases with confidence.</p>
<p>However, one must be clear that test cases guarantee only the cases they cover. Passing the refactored code against the test cases doesn't guarantee correct outcomes of untested cases. So, be diligent and creative enough to write quality test cases to cover all possible cases to exactly define the behavior of the functions &amp; methods.</p>
<p>Lastly, TDD enforces no optimization. TDD requires you to write simplest possible code to pass all the test cases. Refactor along the way and pass the test cases. Profile when you need performance. That's not to downplay the importance of throughout &amp; mindful design of algorithms and data structures. One must find a good balance between TDD &amp; efficient implementation that is crafted since the very beginning, not leaving refactoring to the very late stage.</p>
<p><strong>Edit:</strong> If the above C++ Set example is oversimplified for you, follow its sibling WordPath <a title="WordPath Game - Find optimal way to transform a word to another with 1 character being changed per move" href="https://github.com/vietlq/cpp/tree/master/WordPath">https://github.com/vietlq/cpp/tree/master/WordPath</a></p>

    </div>

  
    <ul class="tag_box inline">
      <li><i class="glyphicon glyphicon-open"></i></li>
      
      


  
     
    	<li><a href="/categories.html#c++-ref">
    		c++ <span>5</span>
    	</a></li>
     
    	<li><a href="/categories.html#tools-ref">
    		tools <span>2</span>
    	</a></li>
     
    	<li><a href="/categories.html#development-ref">
    		development <span>5</span>
    	</a></li>
     
    	<li><a href="/categories.html#tips-ref">
    		tips <span>5</span>
    	</a></li>
    
  


    </ul>
    

    
  
    <hr>
    <ul class="pagination">
    
      <li class="prev"><a href="/web/development/tips/2013/06/07/websocket-being-served-via-nginx-proxy-now" title="WebSocket Being Served Via NginX Proxy Now">&laquo; Previous</a></li>
    
      <li><a href="/archive.html">Archive</a></li>
    
      <li class="next"><a href="/tutorial/c++/tools/development/tips/2013/06/17/listing-all-header-files-your-cpp-depends-on" title="Listing all header files your cpp depends on">Next &raquo;</a></li>
    
    </ul>
    <hr>
    
  </div>
</div>


      </div>

    </div>

    <div id="footer">
      <div class="container">
        <p>&copy; 2015 Viet Le
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>
        </p>
      </div>
    </div>

    





    <!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/assets/themes/bootstrap-3/bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>

